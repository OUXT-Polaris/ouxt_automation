- name: install pip3
  apt:
    name: "{{ packages }}"
    state: present
    update_cache: yes
  vars:
    packages:
    - python3-pip
  become: yes
- name: install markdown via pip
  pip:
    name: markdown
    version: 3.2.1
- name: install mkdocs via pip
  pip:
    name:
      - mkdocs
  become: yes
- name: install other depends via pip
  pip:
    name:
      - argparse
      - datetime
      - fontawesome_markdown
      - GitPython
      - mdx_unimoji
      - mkdocs
      - mkdocs-material
      - mkdocs-mermaid2-plugin
      - pandas
      - plantuml-markdown
      - pymdown-extensions
      - python-markdown-math
      - pytz
      - PyYAML
      - tabulate
      - termcolor
      - tzlocal
      - mike
- name: build documentation
  shell: mkdocs build
  args:
    chdir: ../docs
  ignore_errors: yes