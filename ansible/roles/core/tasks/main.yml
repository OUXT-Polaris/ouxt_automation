---
# Perception Packages
- name : clone pcl_apps
  git:
    repo: https://github.com/OUXT-Polaris/pcl_apps.git
    dest: ../robotx_ws/src/perception/pcl_apps
    version: master
    accept_hostkey: yes
- name : clone pointcloud_to_laserscan
  git:
    repo: https://github.com/OUXT-Polaris/pointcloud_to_laserscan.git
    dest: ../robotx_ws/src/perception/pointcloud_to_laserscan
    version: eloquent-devel
    accept_hostkey: yes
- name : clone image_processing_utils
  git:
    repo: https://github.com/OUXT-Polaris/image_processing_utils.git
    dest: ../robotx_ws/src/perception/image_processing_utils
    version: master
    accept_hostkey: yes
- name : clone scan_segmentation
  git:
    repo: https://github.com/OUXT-Polaris/scan_segmentation.git
    dest: ../robotx_ws/src/perception/scan_segmentation
    version: master
    accept_hostkey: yes
- name : clone preception_bringup
  git:
    repo: https://github.com/OUXT-Polaris/perception_bringup.git
    dest: ../robotx_ws/src/perception/perception_bringup
    version: master
    accept_hostkey: yes

# Planning Packages
- name : clone hermite_path_planner
  git:
    repo: https://github.com/OUXT-Polaris/hermite_path_planner.git
    dest: ../robotx_ws/src/planning/hermite_path_planner
    version: master
    accept_hostkey: yes
- name: clone behavior_tree_action_builder
  git:
    repo: https://github.com/OUXT-Polaris/behavior_tree_action_builder.git
    dest: ../robotx_ws/src/planning/behavior_tree_action_builder
    version: master
    accept_hostkey: yes
- name: clone robotx_behavior_tree
  git:
    repo: https://github.com/OUXT-Polaris/robotx_behavior_tree.git
    dest: ../robotx_ws/src/planning/robotx_behavior_tree
    version: master
    accept_hostkey: yes

# Utility Packages
- name: clone color_names
  git:
    repo: https://github.com/OUXT-Polaris/color_names.git
    dest: ../robotx_ws/src/utils/color_names
    version: master
    accept_hostkey: yes
- name: clone quaternion_operation
  git:
    repo: https://github.com/OUXT-Polaris/quaternion_operation.git
    dest: ../robotx_ws/src/utils/quaternion_operation
    version: ros2
    accept_hostkey: yes
- name: clone data_buffer
  git:
    repo: https://github.com/OUXT-Polaris/data_buffer.git
    dest: ../robotx_ws/src/utils/data_buffer
    version: ros2
    accept_hostkey: yes
- name: clone geometry_msgs_data_buffer
  git:
    repo: https://github.com/OUXT-Polaris/geometry_msgs_data_buffer.git
    dest: ../robotx_ws/src/utils/geometry_msgs_data_buffer
    version: ros2
    accept_hostkey: yes
- name: clone document_generator
  git:
    repo: https://github.com/OUXT-Polaris/document_generator.git
    dest: ../robotx_ws/src/utils/document_generator
    version: master
    accept_hostkey: yes

# Driver Packages
- name: clone velodyne
  git:
    repo: https://github.com/ros-drivers/velodyne.git
    dest: ../robotx_ws/src/drivers/velodyne
    version: dashing-devel
    accept_hostkey: yes
- name: clone nmea_msgs
  git:
    repo: https://github.com/ros-drivers/nmea_msgs.git
    dest: ../robotx_ws/src/drivers/nmea_msgs
    version: ros2
    accept_hostkey: yes
- name: clone nmea_gps_driver
  git:
    repo: https://github.com/OUXT-Polaris/nmea_gps_driver.git
    dest: ../robotx_ws/src/drivers/nmea_gps_driver
    version: master
    accept_hostkey: yes
- name : clone realsense driver
  git :
    repo: https://github.com/IntelRealSense/realsense-ros.git
    dest: ../robotx_ws/src/drivers/realsense_ros
    version: eloquent
    accept_hostkey: yes
- name: setup librealsense keys
  become: yes
  shell: apt-key adv --keyserver keys.gnupg.net --recv-key F6E65AC044F831AC80A06380C8B3A55A6F3EFCDE || apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-key F6E65AC044F831AC80A06380C8B3A55A6F3EFCDE
- name: setup librealsense repo
  apt_repository:
    repo: deb http://realsense-hw-public.s3.amazonaws.com/Debian/apt-repo bionic main
    state: present
- name: install librealsense
  apt:
    name: "{{ packages }}"
    state: present
    update_cache: yes
  vars:
    packages:
      - librealsense2-dkms
      - librealsense2-utils
  become: yes

# Description Packages
- name: clone wamv_description
  git:
    repo: https://github.com/OUXT-Polaris/wamv_description.git
    dest: ../robotx_ws/src/description/wamv_description
    version: master
    accept_hostkey: yes

# Localization Packages
- name: clone geographic_info
  git:
    repo: https://github.com/OUXT-Polaris/geographic_info.git
    dest: ../robotx_ws/src/localization/geographic_info
    version: ros2
    accept_hostkey: yes
- name: clone geographic_conversion
  git:
    repo: https://github.com/OUXT-Polaris/geographic_conversion.git
    dest: ../robotx_ws/src/localization/geographic_conversion
    version: ros2
    accept_hostkey: yes
- name: clone nmea_to_geopose
  git:
    repo: https://github.com/OUXT-Polaris/nmea_to_geopose.git
    dest: ../robotx_ws/src/localization/nmea_to_geopose
    version: ros2
    accept_hostkey: yes
- name: clone pf_localization
  git:
    repo: https://github.com/OUXT-Polaris/pf_localization.git
    dest: ../robotx_ws/src/localization/pf_localization
    version: ros2
    accept_hostkey: yes 
- name: clone odom_frame_publisher
  git:
    repo: https://github.com/OUXT-Polaris/odom_frame_publisher.git
    dest: ../robotx_ws/src/localization/odom_frame_publisher
    version: ros2
    accept_hostkey: yes
